---
title: "API Reference"
description: "Complete API reference for ZBD Onramp integration"
icon: "code"
---

Complete reference for all ZBD Onramp API endpoints and webhook events.

## Base URL

All API requests should be made to:

```
https://api.zebedee.io
```

## Authentication

All requests require an API key in the header:

```
apikey: YOUR_API_KEY
```

<Note>
  Get your API keys by [scheduling a call](https://zbd.one/sales) with our sales team.
</Note>

## Create Widget Session

Initialize a new onramp widget session for a user.

<CodeGroup>
```bash cURL
POST /api/v1/ramp-widget

curl -X POST https://api.zebedee.io/api/v1/ramp-widget \
  -H "Content-Type: application/json" \
  -H "apikey: YOUR_API_KEY" \
  -d '{
    "email": "user@example.com",
    "webhook_url": "https://yourapp.com/webhooks/zbd"
  }'
```

```javascript Node.js
const response = await fetch('https://api.zebedee.io/api/v1/ramp-widget', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'apikey': process.env.ZBD_API_KEY
  },
  body: JSON.stringify({
    email: 'user@example.com',
    webhook_url: 'https://yourapp.com/webhooks/zbd'
  })
});

const data = await response.json();
```
</CodeGroup>

### Request Body

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| `email` | string | **Yes** | User's email address for verification |
| `webhook_url` | string | **Yes** | URL to receive webhook notifications |
| `access_token` | string | No | Existing user session token (for returning users) |
| `quote_currency` | string | No | Fiat currency code (default: "USD") |
| `base_currency` | string | No | Cryptocurrency: "BTC" or "USDC" (default: "BTC") |
| `destination` | string | No | URL to redirect after successful purchase |
| `reference_id` | string | No | Your internal reference ID for this session |
| `metadata` | object | No | Custom key-value pairs (max 10 keys, 500 chars per value) |

### Response

```json
{
  "success": true,
  "data": {
    "session_token": "eyJraWQiOiJzLWE1OWNkMjc4...",
    "widget_url": "https://ramp.zbdpay.com/?session=eyJraWQiOiJzLWE1OWNkMjc4...",
    "session_id": "ses_9n3f7h2u4b",
    "expires_at": "2025-06-09T12:00:00Z"
  }
}
```

### Error Responses

```json
{
  "success": false,
  "error": {
    "code": "INVALID_EMAIL",
    "message": "Please provide a valid email address"
  }
}
```

Common error codes:
- `INVALID_EMAIL` - Email format is invalid
- `INVALID_WEBHOOK_URL` - Webhook URL is not accessible
- `UNAUTHORIZED` - Invalid API key
- `RATE_LIMITED` - Too many requests

## Webhook Events

Webhooks are sent as POST requests to your specified `webhook_url`.

### Event Structure

All webhook events follow this structure:

```json
{
  "id": "evt_2n4f8gu3nf",
  "type": "onramp.purchase.completed",
  "created_at": "2025-06-09T10:30:00Z",
  "livemode": true,
  "data": {
    // Event-specific data
  }
}
```

### Event Types

#### `